<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/productdetail.css">
    <title>Laptop Product Page</title>
    
</head>
<body>
    <script type="module" src="../js/components/product_detail.js"></script>

<div class="product-container">
    <div class="image-gallery">
        <button class="slider-btn" id="prevBtn" onclick="prevImage()">&#10094;</button>
        
        <!-- Main Image Display -->
        <img src="" alt="Laptop Image" class="main-image" id="mainImage">
        
        <button class="slider-btn" id="nextBtn" onclick="nextImage()">&#10095;</button>

        <!-- Thumbnail Images -->
        <div class="thumbnail-container">
            <img src="" id="subImage" alt="Thumbnail 1" class="thumbnail" onclick="showImage(0)">
            <img src="" id="subImage" alt="Thumbnail 2" class="thumbnail" onclick="showImage(1)">
            <img src="" id="subImage" alt="Thumbnail 3" class="thumbnail" onclick="showImage(2)">
            <img src="" id="subImage" alt="Thumbnail 4" class="thumbnail" onclick="showImage(3)">
        </div>
    </div>
    
    <div id="product-details">
        <h2 id="product-name"></h2>
        <!-- <p class="category">Category: <span></span></p> -->
        <p>Brand: <span id="brand"></span></p>

        <div class="price">
            <p>Price: <span id="original-price" style="text-decoration-line: line-through;"></span> <span id="discounted-price"></span> </p>
            <p id="discount"></p>
        </div>

        <p id="availability"></p>

        <div class="quantity">
            <button class="quantity-btn" onclick="changeQuantity(-1)">-</button>
            <input type="text" value="1" class="quantity-input" id="quantityInput">
            <button class="quantity-btn" onclick="changeQuantity(1)">+</button>
        </div>

        <div>
            <p><strong>Description:</strong> <span id="description"></span></p>
        </div>

        <div id="rating">
            <p><strong>Rating:</strong></p>
            <div id="stars">
                <span onclick="rateProduct(1)">&#9733;</span>
                <span onclick="rateProduct(2)">&#9733;</span>
                <span onclick="rateProduct(3)">&#9733;</span>
                <span onclick="rateProduct(4)">&#9733;</span>
                <span onclick="rateProduct(5)">&#9733;</span>
            </div>
            <p id="userRating"></p>
        </div>

        <button class="add-to-cart">Add to Cart</button>
    </div>
</div>

<script>
    function changeQuantity(amount) {
        const quantityInput = document.getElementById('quantityInput');
        let currentQuantity = parseInt(quantityInput.value);

        if (!isNaN(currentQuantity)) {
            currentQuantity += amount;
            if (currentQuantity < 1) currentQuantity = 1; // Ensure quantity doesn't go below 1
            quantityInput.value = currentQuantity;
        }
    }

let currentImageIndex = 0;
const mainImage = document.getElementById('mainImage');
const thumbnails = document.querySelectorAll('.thumbnail');

// Update the main image and active thumbnail
// function updateImage(index) {
//     mainImage.src = images[index];
//     thumbnails.forEach((thumb, idx) => {
//         thumb.classList.toggle('active', idx === index);
//     });
// }

// function prevImage() {
//     currentImageIndex = (currentImageIndex === 0) ? images.length - 1 : currentImageIndex - 1;
//     updateImage(currentImageIndex);
// }

// function nextImage() {
//     currentImageIndex = (currentImageIndex === images.length - 1) ? 0 : currentImageIndex + 1;
//     updateImage(currentImageIndex);
// }

// function showImage(index) {
//     currentImageIndex = index;
//     updateImage(currentImageIndex);
// }

// // Initialize the first image as active
// updateImage(currentImageIndex);

// Rating Functionality
function rateProduct(rating) {
    const stars = document.querySelectorAll('.stars span');
    stars.forEach((star, index) => {
        star.classList.toggle('active', index < rating);
    });
    document.getElementById('userRating').innerText = `You rated this product ${rating} stars`;
}

</script>

</body>
</html>
